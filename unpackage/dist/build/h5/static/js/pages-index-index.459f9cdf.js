(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-index-index"],{"05ec":function(e,t,n){var i=n("24fb");t=i(!1),t.push([e.i,'@charset "UTF-8";\r\n/**\r\n * scss预处理 内置的常用样式变量\r\n * 后期项目会考虑使用scss\r\n*/\r\n/* 颜色变量 */\r\n/* 行为相关颜色 */\r\n/* 文字基本颜色 */\r\n/* 背景颜色 */\r\n/* 边框颜色 */\r\n/* 尺寸变量 */\r\n/* 文字尺寸 */\r\n/* 图片尺寸 */\r\n/* Border Radius */\r\n/* 水平间距 */\r\n/* 垂直间距 */\r\n/* 透明度 */\r\n/* 文章场景相关 */.popup-div[data-v-515d9668]{padding:100px 0 100px 0}',""]),e.exports=t},"07e8":function(e,t,n){"use strict";n.r(t);var i=n("ac57"),r=n.n(i);for(var a in i)"default"!==a&&function(e){n.d(t,e,(function(){return i[e]}))}(a);t["default"]=r.a},"0dda":function(e,t,n){"use strict";n.r(t);var i=n("1b05"),r=n.n(i);for(var a in i)"default"!==a&&function(e){n.d(t,e,(function(){return i[e]}))}(a);t["default"]=r.a},1342:function(e,t,n){"use strict";var i={ticketNotice:n("aa70").default,ticketIntroduction:n("a31f").default,ticketTypeDescription:n("b6a7").default,ticketMemberSelect:n("e19d").default},r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-uni-view",{staticClass:"view-index"},[n("v-uni-view",{staticClass:"gradient-view"},[n("v-uni-view",{staticClass:"tui-banner-box",style:{height:e.swipeHeight+"px"}},[n("v-uni-swiper",{staticClass:"tui-banner-swiper",attrs:{autoplay:!0,interval:5e3,duration:150,circular:!0,"indicator-color":"rgba(255, 255, 255, 0.8)","indicator-active-color":"#fff"}},e._l(e.images,(function(e,t){return n("v-uni-swiper-item",{key:t},[n("v-uni-image",{staticClass:"tui-slide-image",attrs:{src:e,mode:"scaleToFill"}})],1)})),1)],1)],1),e.scenic.noticeTitle?n("v-uni-view",{staticClass:"scenic-event",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.onShowNotice.apply(void 0,arguments)}}},[n("v-uni-view",[n("v-uni-text",{staticClass:"iconfont icon-gonggao"}),n("span",[e._v(e._s(e.scenic.noticeTitle))])],1),n("v-uni-view",{staticClass:"scenic-more"},[n("v-uni-text",{staticClass:"iconfont icon-arrow"})],1)],1):e._e(),n("v-uni-view",{staticClass:"scenic-ext",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.onIntroduction.apply(void 0,arguments)}}},[n("v-uni-view",[n("v-uni-view",{staticClass:"scenic-ext-title"},[e.scenic.openText?n("span",[e._v("开放时间")]):e._e(),n("span",[e._v("景区特色")]),n("span",[e._v("景区简介")])]),e.scenic.openText?n("v-uni-view",{staticClass:"scenic-ext-word"},[e._v(e._s(e.scenic.openText))]):e._e()],1),n("v-uni-view",{staticClass:"scenic-more"},[n("v-uni-text",{staticClass:"active-text"},[e._v("详情")]),n("v-uni-text",{staticClass:"iconfont icon-arrow"})],1)],1),n("v-uni-view",{staticClass:"view-categorys"},e._l(e.categorys,(function(t){return n("v-uni-view",{key:t.id,staticClass:"view-category"},[n("v-uni-view",{staticClass:"category-header"},[n("v-uni-view",{staticClass:"iconfont icon-menpiao"}),n("v-uni-text",[e._v(e._s(t.name))])],1),n("v-uni-view",{staticClass:"category-body"},e._l(e.ticketTypes,(function(t){return n("v-uni-view",{key:t.id,staticClass:"view-items"},[n("v-uni-view",{staticClass:"item-content"},[n("v-uni-view",{staticClass:"item-name"},[e._v(e._s(t.name))]),n("v-uni-view",{staticClass:"item-status"},[n("v-uni-text",[e._v(e._s(t.travelDateText))]),n("v-uni-text",{style:{color:e.getRefundColor(t)}},[e._v(e._s(" "+t.refundText+" "))]),n("v-uni-text",[e._v("无需取票")])],1),n("v-uni-view",{staticClass:"item-explain",on:{click:function(n){arguments[0]=n=e.$handleEvent(n),e.onShowDescription(t)}}},[n("v-uni-text",[e._v("新品 | 购买须知>")])],1)],1),n("v-uni-view",{staticClass:"item-active"},[n("v-uni-view",{staticClass:"view-price"},[n("v-uni-text",{staticClass:"text-price"},[e._v("￥"+e._s(t.price))])],1),n("v-uni-view",{staticClass:"view-book",on:{click:function(n){arguments[0]=n=e.$handleEvent(n),e.onBuy(t)}}},[n("v-uni-button",[e._v("立即预订")])],1)],1)],1)})),1)],1)})),1),n("ticket-notice",{attrs:{scenic:e.scenic},on:{close:function(t){arguments[0]=t=e.$handleEvent(t),e.onCloseNotice.apply(void 0,arguments)}},model:{value:e.showNotice,callback:function(t){e.showNotice=t},expression:"showNotice"}}),n("ticket-introduction",{attrs:{scenic:e.scenic},on:{close:function(t){arguments[0]=t=e.$handleEvent(t),e.onIntroductionClose.apply(void 0,arguments)}},model:{value:e.showIntroduction,callback:function(t){e.showIntroduction=t},expression:"showIntroduction"}}),n("ticket-type-description",{attrs:{"show-buy":!0,ticketTypeId:e.selectedTicketType.id,ticketTypeName:e.selectedTicketType.name,price:e.selectedTicketType.price,shouldRead:e.selectedTicketType.shouldReadDescription},on:{close:function(t){arguments[0]=t=e.$handleEvent(t),e.onDescriptionClose.apply(void 0,arguments)}},model:{value:e.showDescription,callback:function(t){e.showDescription=t},expression:"showDescription"}}),n("ticket-member-select",{on:{close:function(t){arguments[0]=t=e.$handleEvent(t),e.onMemberSelectClose.apply(void 0,arguments)}},model:{value:e.showMemberSelect,callback:function(t){e.showMemberSelect=t},expression:"showMemberSelect"}})],1)},a=[];n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return i}))},1832:function(e,t,n){"use strict";var i=n("4050"),r=n.n(i);r.a},"1b05":function(e,t,n){"use strict";var i=n("ee27");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n("f3f3")),a=n("2f62"),o={name:"notice",props:{value:{type:Boolean,default:!1},scenic:{}},data:function(){return{showPopup:!1}},watch:{value:function(e){e?this.$refs.popup.open():this.$refs.popup.close()}},computed:(0,r.default)({},(0,a.mapState)(["pageLabelMainText"])),methods:{onPopupChange:function(e){e.show||this.$emit("input",!1)}}};t.default=o},"202c":function(e,t,n){"use strict";var i=n("5d91"),r=n.n(i);r.a},"230e":function(e,t,n){var i=n("f75d");"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var r=n("4f06").default;r("37736a66",i,!0,{sourceMap:!1,shadowMode:!1})},"30ae":function(e,t,n){"use strict";var i=n("230e"),r=n.n(i);r.a},"3a75":function(e,t,n){var i=n("05ec");"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var r=n("4f06").default;r("7becd48e",i,!0,{sourceMap:!1,shadowMode:!1})},4005:function(e,t,n){var i=n("24fb");t=i(!1),t.push([e.i,'@charset "UTF-8";\r\n/**\r\n * scss预处理 内置的常用样式变量\r\n * 后期项目会考虑使用scss\r\n*/\r\n/* 颜色变量 */\r\n/* 行为相关颜色 */\r\n/* 文字基本颜色 */\r\n/* 背景颜色 */\r\n/* 边框颜色 */\r\n/* 尺寸变量 */\r\n/* 文字尺寸 */\r\n/* 图片尺寸 */\r\n/* Border Radius */\r\n/* 水平间距 */\r\n/* 垂直间距 */\r\n/* 透明度 */\r\n/* 文章场景相关 */.view-member-select .view-select-popup[data-v-113abde6]{background-color:#dedede;-webkit-transition:all .3s ease;transition:all .3s ease;-webkit-transform:translateY(0);transform:translateY(0);height:200px;width:225px;padding:5px 20px 22px 20px;border-radius:10px}.view-member-select .view-select-popup .view-select-button[data-v-113abde6]{padding:17px 0 0 0}.view-member-select .view-select-popup .view-select-button .select-button[data-v-113abde6]{border-radius:5px;padding:8px 15px 8px 15px;box-shadow:6px 6px 5px #aba9a9;background:#d0e17d;color:#333}.view-member-select .view-select-popup .view-select-button .select-bind-button[data-v-113abde6]{background:#ffdf25}.view-member-select .view-select-popup .view-select-explain[data-v-113abde6]{padding:10px 8px 0 8px;font-size:12px}',""]),e.exports=t},4050:function(e,t,n){var i=n("4a47");"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var r=n("4f06").default;r("7f693398",i,!0,{sourceMap:!1,shadowMode:!1})},"450a":function(e,t,n){var i=n("24fb");t=i(!1),t.push([e.i,'@charset "UTF-8";\r\n/**\r\n * scss预处理 内置的常用样式变量\r\n * 后期项目会考虑使用scss\r\n*/\r\n/* 颜色变量 */\r\n/* 行为相关颜色 */\r\n/* 文字基本颜色 */\r\n/* 背景颜色 */\r\n/* 边框颜色 */\r\n/* 尺寸变量 */\r\n/* 文字尺寸 */\r\n/* 图片尺寸 */\r\n/* Border Radius */\r\n/* 水平间距 */\r\n/* 垂直间距 */\r\n/* 透明度 */\r\n/* 文章场景相关 */.description[data-v-5cbcda4a]{background-color:#fff;-webkit-transition:all .3s ease;transition:all .3s ease;-webkit-transform:translateY(0);transform:translateY(0)}.description-title[data-v-5cbcda4a]{left:0;top:0;width:100%;z-index:100;position:fixed;height:40px;line-height:40px;font-size:18px;text-align:center;background-color:#efefef}.description-close-btn[data-v-5cbcda4a]{right:0;top:0;position:absolute;color:#999;width:40px;height:40px}.description-content[data-v-5cbcda4a]{position:relative;font-size:15px;height:84vh;overflow-y:auto;box-sizing:border-box}.description-content-item[data-v-5cbcda4a]{margin-left:15px;padding:15px 15px 15px 0;word-wrap:break-word;word-break:normal;border-bottom:1px solid #dbdbdb}.description-content-item h3[data-v-5cbcda4a]{color:#333;font-size:100%;font-weight:700;padding-bottom:5px}.description-content-item-text[data-v-5cbcda4a]{margin-left:15px}.description-content-item[data-v-5cbcda4a] img{max-width:100%!important}',""]),e.exports=t},"4a47":function(e,t,n){var i=n("24fb");t=i(!1),t.push([e.i,'@charset "UTF-8";\r\n/**\r\n * scss预处理 内置的常用样式变量\r\n * 后期项目会考虑使用scss\r\n*/\r\n/* 颜色变量 */\r\n/* 行为相关颜色 */\r\n/* 文字基本颜色 */\r\n/* 背景颜色 */\r\n/* 边框颜色 */\r\n/* 尺寸变量 */\r\n/* 文字尺寸 */\r\n/* 图片尺寸 */\r\n/* Border Radius */\r\n/* 水平间距 */\r\n/* 垂直间距 */\r\n/* 透明度 */\r\n/* 文章场景相关 */.view-index[data-v-143b5894]{font-size:14px;background-color:#efefef}.view-index .view-icon-button[data-v-143b5894]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;padding:20px 25px 20px 25px}.view-index .view-icon-button .view-tap .icon-button-tap[data-v-143b5894]{padding:5px 0 0 0}.view-index .view-icon-button .view-tap .iconfont[data-v-143b5894]{color:#fff;font-size:22px;margin:0 auto}.view-index .view-icon-button .view-tap .icon-button-view[data-v-143b5894]{width:50px;height:50px;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;border-radius:25px;margin:0 auto}.view-index .view-icon-button .view-tap .icon-button-gift[data-v-143b5894]{background:-webkit-linear-gradient(#951eda,#5d2afe);background:linear-gradient(#951eda,#5d2afe)}.view-index .view-icon-button .view-tap .icon-button-alarm[data-v-143b5894]{background:-webkit-linear-gradient(#fea100,#e66d25);background:linear-gradient(#fea100,#e66d25)}.view-index .view-icon-button .view-tap .icon-button-ice-skate[data-v-143b5894]{background:-webkit-linear-gradient(#07d359,#00903a);background:linear-gradient(#07d359,#00903a)}.view-index .view-icon-button .view-tap .icon-button-coach[data-v-143b5894]{background:-webkit-linear-gradient(#36b1ff,#014aff);background:linear-gradient(#36b1ff,#014aff)}.view-index .scenic-event[data-v-143b5894]{padding:7px 15px 7px 15px;font-size:13px;color:red;border-bottom:1px solid #dbdbdb;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;-webkit-box-align:center;-webkit-align-items:center;align-items:center;background-color:#fff}.view-index .scenic-event .icon-gonggao[data-v-143b5894]{margin-right:5px;font-size:14px;color:red}.view-index .scenic-ext[data-v-143b5894]{padding:13px 15px;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;-webkit-box-align:center;-webkit-align-items:center;align-items:center;background-color:#fff}.view-index .scenic-ext-title[data-v-143b5894]{font-size:15px}.view-index .scenic-ext-title span[data-v-143b5894]{margin-right:5px}.view-index .scenic-ext-word[data-v-143b5894]{margin-top:8px;line-height:13px;font-size:12px;color:#999}.view-index .scenic-ext .iconfont[data-v-143b5894]{font-size:14px}.view-index .scenic-more[data-v-143b5894]{text-align:right;line-height:24px;color:#999}.view-index .scenic-more span[data-v-143b5894]{display:inline-block;vertical-align:middle;margin:0 6px;height:18px;line-height:18px;font-size:13px}.view-index .scenic-more .iconfont[data-v-143b5894]{vertical-align:middle;font-size:14px}.view-index .view-introduction[data-v-143b5894]{display:-webkit-box;display:-webkit-flex;display:flex;padding:13px 15px;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;font-size:15px;background-color:#fff}.view-index .view-introduction .introduction-active[data-v-143b5894]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;color:#999}.view-index .view-introduction .introduction-active .icon-arrow[data-v-143b5894]{font-size:20px}.view-index .view-categorys .view-category[data-v-143b5894]{margin-top:10px;background:#fff}.view-index .view-categorys .view-category .category-header[data-v-143b5894]{display:-webkit-box;display:-webkit-flex;display:flex;padding:8px 15px;border-bottom:1px solid #dbdbdb;font-size:17px;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.view-index .view-categorys .view-category .category-header .icon-menpiao[data-v-143b5894]{padding:1px 3px 0 3px;background-color:#ff7d13;border-radius:25px;line-height:1.5;color:#fff;font-size:12px;height:19px;margin-right:7px}.view-index .view-categorys .view-category .category-body .view-items[data-v-143b5894]{padding:10px 13px 10px 0;margin-left:15px;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;border-bottom:1px solid #dbdbdb}.view-index .view-categorys .view-category .category-body .view-items .item-content .item-name[data-v-143b5894]{margin-bottom:5px;padding-right:0;line-height:18px;font-size:14px;color:#000;text-overflow:ellipsis;overflow:hidden}.view-index .view-categorys .view-category .category-body .view-items .item-content .item-status[data-v-143b5894]{color:#099fde;font-size:11px;padding:0 0 7px 0}.view-index .view-categorys .view-category .category-body .view-items .item-content .item-explain[data-v-143b5894]{font-size:12px;color:#999;height:21px;line-height:21px}.view-index .view-categorys .view-category .category-body .view-items .item-active .view-price[data-v-143b5894]{font-size:20px;font-style:normal;color:#f40;text-align:right;overflow:hidden;word-break:break-all;font-weight:400}',""]),e.exports=t},"4e49":function(e,t,n){"use strict";var i=n("72b5"),r=n.n(i);r.a},"5d91":function(e,t,n){var i=n("7f05");"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var r=n("4f06").default;r("cfae5a8c",i,!0,{sourceMap:!1,shadowMode:!1})},"66e3":function(e,t,n){var i=n("450a");"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var r=n("4f06").default;r("32cd60e7",i,!0,{sourceMap:!1,shadowMode:!1})},"6d94":function(e,t,n){"use strict";var i=n("3a75"),r=n.n(i);r.a},"72b5":function(e,t,n){var i=n("bd60");"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var r=n("4f06").default;r("49600d6b",i,!0,{sourceMap:!1,shadowMode:!1})},"7f05":function(e,t,n){var i=n("24fb");t=i(!1),t.push([e.i,'@charset "UTF-8";\r\n/**\r\n * scss预处理 内置的常用样式变量\r\n * 后期项目会考虑使用scss\r\n*/\r\n/* 颜色变量 */\r\n/* 行为相关颜色 */\r\n/* 文字基本颜色 */\r\n/* 背景颜色 */\r\n/* 边框颜色 */\r\n/* 尺寸变量 */\r\n/* 文字尺寸 */\r\n/* 图片尺寸 */\r\n/* Border Radius */\r\n/* 水平间距 */\r\n/* 垂直间距 */\r\n/* 透明度 */\r\n/* 文章场景相关 */.description[data-v-515d9668]{background-color:#fff;-webkit-transition:all .3s ease;transition:all .3s ease;-webkit-transform:translateY(0);transform:translateY(0)}.description-title[data-v-515d9668]{left:0;top:0;width:100%;z-index:100;position:fixed;height:40px;line-height:40px;font-size:18px;text-align:center;background-color:#efefef}.description-close-btn[data-v-515d9668]{right:0;top:0;position:absolute;color:#999;width:40px;height:40px}.description-content[data-v-515d9668]{position:relative;font-size:15px;height:84vh;overflow-y:auto;box-sizing:border-box}.description-content-item[data-v-515d9668]{margin-left:15px;padding:15px 15px 15px 0;word-wrap:break-word;word-break:normal;border-bottom:1px solid #dbdbdb}.description-content-item h3[data-v-515d9668]{color:#333;font-size:100%;font-weight:700;padding-bottom:5px}.description-content-item-text[data-v-515d9668]{margin-left:15px}.description-content-item[data-v-515d9668] img{max-width:100%!important}',""]),e.exports=t},"9aa6":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i={name:"notice",props:{value:{type:Boolean,default:!1}},data:function(){return{showPopup:!1}},watch:{value:function(e){e?this.$refs.popup.open():this.$refs.popup.close()}},methods:{onPopupChange:function(e){e.show||this.$emit("input",!1)},btnBindMember:function(){this.onClose(),uni.navigateTo({url:"/pages/member/bind-member"})},btnRegistMember:function(){this.onClose(),uni.navigateTo({url:"/pages/member/regist-member"})},onClose:function(){this.$emit("close",{})}}};t.default=i},"9fce":function(e,t,n){"use strict";var i=n("ee27");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n("96cf");var r=i(n("c964")),a=i(n("814b")),o=i(n("cf02")),c={loginFromWeChatAsync:function(e){var t=this;return(0,r.default)(regeneratorRuntime.mark((function n(){var i;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,a.default.post("/member/LoginFromWeChatAsync",e);case 2:i=n.sent,t.setMember(i);case 4:case"end":return n.stop()}}),n)})))()},loginFromMiniAsync:function(e){var t=this;return(0,r.default)(regeneratorRuntime.mark((function n(){var i;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return i=t,n.next=3,uni.login({success:function(t){return(0,r.default)(regeneratorRuntime.mark((function n(){var o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(!t.code){n.next=12;break}if(!e){n.next=8;break}return o={code:t.code,userInfo:e},n.next=5,a.default.post("/member/LoginFromWechatMiniProgramAsync",o).then((function(e){i.setMember(e)}));case 5:n.sent,n.next=10;break;case 8:return n.next=10,uni.getUserInfo({success:function(e){return(0,r.default)(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r={code:t.code,userInfo:e.userInfo},n.next=3,a.default.post("/member/LoginFromWechatMiniProgramAsync",r).then((function(e){i.setMember(e)}));case 3:n.sent;case 4:case"end":return n.stop()}}),n)})))()}});case 10:n.next=13;break;case 12:console.log("登录失败！"+t.errMsg);case 13:case"end":return n.stop()}}),n)})))()}});case 3:case"end":return n.stop()}}),n)})))()},bindStaffAsync:function(e){var t=this;return(0,r.default)(regeneratorRuntime.mark((function n(){var i;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,a.default.post("/member/BindStaffAsync",e);case 2:i=n.sent,t.setMember(i);case 4:case"end":return n.stop()}}),n)})))()},registMemberCardAsync:function(e){return(0,r.default)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,a.default.post("/member/RegistMemberCardAsync",e);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})))()},getElectronicMemberCardAsync:function(){return(0,r.default)(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,a.default.get("/member/GetElectronicMemberCardAsync");case 2:return t=e.sent,e.abrupt("return",t.result);case 4:case"end":return e.stop()}}),e)})))()},renewMemberCardAsync:function(e){return(0,r.default)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,a.default.post("/member/RenewMemberCardAsync",{id:e});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})))()},validRepeatMobileAsync:function(e){return(0,r.default)(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,a.default.post("/member/ValidRepeatMobileAsync?mobile=".concat(e));case 2:return n=t.sent,t.abrupt("return",n.result);case 4:case"end":return t.stop()}}),t)})))()},bindFromWeChatAsync:function(e){var t=this;return(0,r.default)(regeneratorRuntime.mark((function n(){var i;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,a.default.post("/member/BindFromWeChatAsync",e);case 2:return i=n.sent,i.result.error||t.setMember(i),n.abrupt("return",i.result);case 5:case"end":return n.stop()}}),n)})))()},registFromWeChatAsync:function(e){var t=this;return(0,r.default)(regeneratorRuntime.mark((function n(){var i;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,a.default.post("/member/RegistFromWeChatAsync",e);case 2:return i=n.sent,i.result.error||t.setMember(i),n.abrupt("return",i.result);case 5:case"end":return n.stop()}}),n)})))()},bindSendVerificationCodeAsync:function(e){return(0,r.default)(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,a.default.post("/member/BindSendVerificationCodeAsync?mobile=".concat(e));case 2:return n=t.sent,t.abrupt("return",n.result);case 4:case"end":return t.stop()}}),t)})))()},registSendVerificationCodeAsync:function(e){return(0,r.default)(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,a.default.post("/member/RegistSendVerificationCodeAsync?mobile=".concat(e));case 2:return n=t.sent,t.abrupt("return",n.result);case 4:case"end":return t.stop()}}),t)})))()},setMember:function(e){var t=e.result.member;t.permissions=e.result.permissions,uni.setStorageSync("member",JSON.stringify(t)),o.default.setToken(e.result.token)},getMember:function(){var e=uni.getStorageSync("member");return e?JSON.parse(e):null}};t.default=c},a31f:function(e,t,n){"use strict";n.r(t);var i=n("caf1"),r=n("07e8");for(var a in r)"default"!==a&&function(e){n.d(t,e,(function(){return r[e]}))}(a);n("6d94"),n("202c");var o,c=n("f0c5"),s=Object(c["a"])(r["default"],i["b"],i["c"],!1,null,"515d9668",null,!1,i["a"],o);t["default"]=s.exports},aa70:function(e,t,n){"use strict";n.r(t);var i=n("f0ad"),r=n("0dda");for(var a in r)"default"!==a&&function(e){n.d(t,e,(function(){return r[e]}))}(a);n("30ae"),n("af78");var o,c=n("f0c5"),s=Object(c["a"])(r["default"],i["b"],i["c"],!1,null,"5cbcda4a",null,!1,i["a"],o);t["default"]=s.exports},ac57:function(e,t,n){"use strict";var i=n("ee27");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n("f3f3")),a=n("2f62"),o={name:"notice",props:{value:{type:Boolean,default:!1},scenic:{}},data:function(){return{showPopup:!1}},watch:{value:function(e){e?this.$refs.popup.open():this.$refs.popup.close()}},computed:(0,r.default)({},(0,a.mapState)(["pageLabelMainText"])),methods:{onPopupChange:function(e){e.show||this.$emit("input",!1)}}};t.default=o},af78:function(e,t,n){"use strict";var i=n("66e3"),r=n.n(i);r.a},b7dd:function(e,t,n){"use strict";var i=n("ee27");n("99af"),n("d81d"),n("d3b7"),n("3ca3"),n("ddb0"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n("f3f3")),a=i(n("54f8"));n("96cf");var o=i(n("c964")),c=i(n("a70c")),s=n("2f62"),u=n("1f1f"),d=i(n("63d4")),l=i(n("e984")),p=i(n("d976")),f=i(n("9fce")),v=(0,c.default)(),b=(0,c.default)().addDays(1),w={mixins:[u.mobileMixin],props:{publicSaleFlag:{type:[Boolean,String],default:!0}},data:function(){return{href:"https://uniapp.dcloud.io/collocation/pages?id=easycom",swiper:{indicatorDots:!0,autoplay:!0,interval:2e3,duration:500},introductionTitle:"景区特色  景区简介",categorys:[{id:1,name:"景区门票",items:[{id:1,name:"欢乐票",price:12.34},{id:2,name:"开发票",price:23.45}]},{id:2,name:"餐饮",items:[{id:1,name:"河粉",price:5.5},{id:2,name:"米饭",price:3}]}],scenic:{},ticketTypes:[],selectedTicketType:{},origin:"http://localhost:8080",shareImgUrl:"",groundId:1,showDescription:!1,showNotice:!1,swipeHeight:150,selectColors:[["#A5B4E4","#6361EE"],["#FB754E","#FB3A47"],["#254334","#BF94D8"]],showClothing:!1,showStudent:!0,showIntroduction:!1,showMemberSelect:!1,memberSelect:!1,images:[]}},onLoad:function(){var e=this;return(0,o.default)(regeneratorRuntime.mark((function t(){var n,i,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,f.default.loginFromWeChatAsync({code:"",state:""});case 2:return n=uni.getSystemInfoSync(),e.swipeHeight=n.screenWidth/640*360,t.next=6,p.default.getSettingsFromWeChatAsync();case 6:return i=d.default.getTicketTypesForWeiXinSaleAsync({publicSaleFlag:e.publicSaleFlag,groundId:""}).then((function(t){var n,i=(0,a.default)(t);try{for(i.s();!(n=i.n()).done;){var r=n.value;r.travelDateText=e.getTravelDateText(r),r.refundText=e.getRefundText(r)}}catch(o){i.e(o)}finally{i.f()}e.ticketTypes=t})),r=l.default.getScenicAsync().then((function(t){if(t.photoList&&t.photoList.length>0&&(e.images=t.photoList.map((function(e){return e.url})),e.shareImgUrl=e.images[0]),t.openTime&&t.closeTime){var n=(0,c.default)().toDateString(),i=(0,c.default)("".concat(n," ").concat(t.openTime,":00")),r=(0,c.default)("".concat(n," ").concat(t.closeTime,":00")),a=(0,c.default)();a.isBefore(i)?t.openText="未开园 ".concat(t.openTime,"开园"):a.isBetween(i,r)?t.openText="开放中 ".concat(t.closeTime,"闭园"):t.openText="已闭园 明日".concat(t.openTime,"开园")}e.scenic=t,e.setPageLabelMainText(e.scenic.pageLabelMainText)})).then((function(){"".concat(e.origin,"/tickettype/").concat(e.publicSaleFlag);e.groundId&&"?groundId=".concat(e.groundId)})),t.prev=8,t.next=11,Promise.all([i,r]);case 11:e.pageLoaded=!0;case 12:return t.prev=12,t.finish(12);case 14:case"end":return t.stop()}}),t,null,[[8,,12,14]])})))()},methods:(0,r.default)({onIntroduction:function(){this.showIntroduction=!0},onIntroductionClose:function(){this.showIntroduction=!1},onBook:function(){uni.navigateTo({url:"../ticket/buy-ticket"})},onBuy:function(e){this.selectedTicketType=e,this.memberSelect?this.toBuy():this.showMemberSelect=!0},onShowDescription:function(e){this.selectedTicketType=e,this.showDescription=!0},getTravelDateText:function(e){var t=(0,c.default)(e.startTravelDate),n="";return n=t.isSameOrBefore(v)?"今日":t.isSameOrBefore(b)?"明日":t.format("MM月DD日"),"最早可订".concat(n,"票")},getRefundText:function(e){return!1===e.allowRefund?"不可退":e.refundLimited?"有条件退":"随时退"},getRefundColor:function(e){return!1===e.allowRefund?"#ff2f39":e.refundLimited?"#ffae13":"#099fde"},onShowNotice:function(){this.showNotice=!0},onCloseNotice:function(){this.showNotice=!1},onTicketClick:function(){uni.navigateTo({url:"/pages/ticket/ticket-type"})},onDescriptionClose:function(){this.showDescription=!1},onMemberSelectClose:function(){this.showMemberSelect=!1,this.memberSelect=!0,this.toBuy()},toBuy:function(){this.selectedTicketType.shouldReadDescription?this.onShowDescription(this.selectedTicketType):uni.navigateTo({url:"/pages/ticket/buy-ticket?ticketTypeId="+this.selectedTicketType.id})}},(0,s.mapMutations)(["setGroundId","setPageLabelMainText"]))};t.default=w},bd60:function(e,t,n){var i=n("24fb");t=i(!1),t.push([e.i,'.tui-banner-box[data-v-143b5894]{width:100%;\r\n\t/* padding: 0 30rpx; */box-sizing:border-box;\r\n\t/* position: absolute;\r\n */\r\n\t/* overflow: hidden; */z-index:99;bottom:%?-80?%;left:0}.tui-slide-image[data-v-143b5894]{width:100%;height:100%;display:block\r\n\t/* padding: 16rpx 30rpx 0px 30rpx; */}.tui-banner-swiper[data-v-143b5894]{width:100%;height:100%;\r\n\t/* border-radius: 12rpx; */overflow:hidden;-webkit-transform:translateY(0);transform:translateY(0)}\n[data-v-143b5894] .tui-banner-swiper .uni-swiper-dot{width:%?8?%;height:%?8?%;display:-webkit-inline-box;display:-webkit-inline-flex;display:inline-flex;background-color:none;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between}[data-v-143b5894] .tui-banner-swiper .uni-swiper-dot::before{content:"";-webkit-box-flex:1;-webkit-flex-grow:1;flex-grow:1;background-color:hsla(0,0%,100%,.8);border-radius:%?16?%;overflow:hidden}[data-v-143b5894] .tui-banner-swiper .uni-swiper-dot-active::before{background-color:#fff}[data-v-143b5894] .tui-banner-swiper .uni-swiper-dot.uni-swiper-dot-active{width:%?16?%}\r\n\r\n',""]),e.exports=t},be10:function(e,t,n){var i=n("4005");"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var r=n("4f06").default;r("205a62cd",i,!0,{sourceMap:!1,shadowMode:!1})},caf1:function(e,t,n){"use strict";var i={uniPopup:n("6d09").default},r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("uni-popup",{ref:"popup",attrs:{type:"bottom"},on:{change:function(t){arguments[0]=t=e.$handleEvent(t),e.onPopupChange.apply(void 0,arguments)}}},[n("div",{staticClass:"description"},[n("div",{staticClass:"description-title"},[n("div",[e._v(e._s(e.scenic.scenicName))]),n("div",{staticClass:"description-close-btn",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.onPopupChange(!1)}}},[n("v-uni-text",{staticClass:"iconfont icon-cuowu"})],1)]),n("div",{staticStyle:{height:"100%","overflow-y":"auto"}},[n("div",{staticClass:"description-content"},[n("div",{staticStyle:{height:"40px"}},[e._v("")]),e.scenic.openTime&&e.scenic.closeTime?n("div",{staticClass:"description-content-item"},[n("h3",[e._v("开放时间")]),n("div",{staticClass:"description-content-item-text"},[e._v(e._s(e.scenic.openTime)+"至"+e._s(e.scenic.closeTime))])]):e._e(),e.scenic.scenicIntro?n("div",{staticClass:"description-content-item"},[n("h3",[e._v(e._s(e.pageLabelMainText)+"简介")]),n("div",{staticClass:"description-content-item-text",domProps:{innerHTML:e._s(e.scenic.scenicIntro)}})]):e._e(),e.scenic.scenicFeature?n("div",{staticClass:"description-content-item"},[n("h3",[e._v(e._s(e.pageLabelMainText)+"特色")]),n("div",{staticClass:"description-content-item-text",domProps:{innerHTML:e._s(e.scenic.scenicFeature)}})]):e._e()])])])])],1)},a=[];n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return i}))},d6a0:function(e,t,n){"use strict";var i=n("be10"),r=n.n(i);r.a},d893:function(e,t,n){"use strict";n.r(t);var i=n("9aa6"),r=n.n(i);for(var a in i)"default"!==a&&function(e){n.d(t,e,(function(){return i[e]}))}(a);t["default"]=r.a},de63:function(e,t,n){"use strict";n.r(t);var i=n("b7dd"),r=n.n(i);for(var a in i)"default"!==a&&function(e){n.d(t,e,(function(){return i[e]}))}(a);t["default"]=r.a},e19d:function(e,t,n){"use strict";n.r(t);var i=n("fe97"),r=n("d893");for(var a in r)"default"!==a&&function(e){n.d(t,e,(function(){return r[e]}))}(a);n("d6a0");var o,c=n("f0c5"),s=Object(c["a"])(r["default"],i["b"],i["c"],!1,null,"113abde6",null,!1,i["a"],o);t["default"]=s.exports},e984:function(e,t,n){"use strict";var i=n("ee27");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n("96cf");var r=i(n("c964")),a=i(n("814b")),o={getScenicAsync:function(){return(0,r.default)(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,a.default.get("/scenic/GetScenicAsync");case 2:return t=e.sent,e.abrupt("return",t.result);case 4:case"end":return e.stop()}}),e)})))()},getGroundComboboxItemsAsync:function(){return(0,r.default)(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,a.default.get("/scenic/GetGroundComboboxItemsAsync");case 2:return t=e.sent,e.abrupt("return",t.result);case 4:case"end":return e.stop()}}),e)})))()},getGateGroupComboboxItemsAsync:function(e){return(0,r.default)(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,a.default.get("/scenic/GetGateGroupComboboxItemsAsync?groundId=".concat(e));case 2:return n=t.sent,t.abrupt("return",n.result);case 4:case"end":return t.stop()}}),t)})))()}};t.default=o},f0ad:function(e,t,n){"use strict";var i={uniPopup:n("6d09").default},r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("uni-popup",{ref:"popup",attrs:{type:"bottom"},on:{change:function(t){arguments[0]=t=e.$handleEvent(t),e.onPopupChange.apply(void 0,arguments)}}},[n("div",{staticClass:"description"},[n("div",{staticClass:"description-title"},[n("div",[e._v(e._s(e.pageLabelMainText)+"公告")]),n("div",{staticClass:"description-close-btn",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.onPopupChange.apply(void 0,arguments)}}},[n("v-uni-text",{staticClass:"iconfont icon-cuowu"})],1)]),n("div",{staticStyle:{height:"100%","overflow-y":"auto"}},[n("div",{staticClass:"description-content"},[n("div",{staticStyle:{height:"40px"}},[e._v("")]),e.scenic.noticeContent?n("div",{staticClass:"description-content-item"},[n("div",{staticClass:"description-content-item-text",domProps:{innerHTML:e._s(e.scenic.noticeContent)}})]):e._e()])])])])],1)},a=[];n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return i}))},f75d:function(e,t,n){var i=n("24fb");t=i(!1),t.push([e.i,'@charset "UTF-8";\r\n/**\r\n * scss预处理 内置的常用样式变量\r\n * 后期项目会考虑使用scss\r\n*/\r\n/* 颜色变量 */\r\n/* 行为相关颜色 */\r\n/* 文字基本颜色 */\r\n/* 背景颜色 */\r\n/* 边框颜色 */\r\n/* 尺寸变量 */\r\n/* 文字尺寸 */\r\n/* 图片尺寸 */\r\n/* Border Radius */\r\n/* 水平间距 */\r\n/* 垂直间距 */\r\n/* 透明度 */\r\n/* 文章场景相关 */.popup-div[data-v-5cbcda4a]{padding:100px 0 100px 0}',""]),e.exports=t},fe97:function(e,t,n){"use strict";var i={uniPopup:n("6d09").default},r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-uni-view",{staticClass:"view-member-select"},[n("uni-popup",{ref:"popup",attrs:{type:"center"},on:{change:function(t){arguments[0]=t=e.$handleEvent(t),e.onPopupChange.apply(void 0,arguments)}}},[n("v-uni-view",{staticClass:"view-select-popup"},[n("v-uni-view",{staticClass:"view-select-button"},[n("v-uni-button",{staticClass:"select-button select-bind-button",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.btnBindMember.apply(void 0,arguments)}}},[e._v("线下已有会员，绑定会员")])],1),n("v-uni-view",{staticClass:"view-select-button"},[n("v-uni-button",{staticClass:"select-button",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.btnRegistMember.apply(void 0,arguments)}}},[e._v("注册会员")])],1),n("v-uni-view",{staticClass:"view-select-button"},[n("v-uni-button",{staticClass:"select-button",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.onClose.apply(void 0,arguments)}}},[e._v("不注册会员")])],1),n("v-uni-view",{staticClass:"view-select-explain"},[e._v("说明：注册会员可以在微信公众号上查看电子票、游戏币、积分情况")])],1)],1)],1)},a=[];n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return i}))},ffca:function(e,t,n){"use strict";n.r(t);var i=n("1342"),r=n("de63");for(var a in r)"default"!==a&&function(e){n.d(t,e,(function(){return r[e]}))}(a);n("1832"),n("4e49");var o,c=n("f0c5"),s=Object(c["a"])(r["default"],i["b"],i["c"],!1,null,"143b5894",null,!1,i["a"],o);t["default"]=s.exports}}]);