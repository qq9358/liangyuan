{"version":3,"sources":["uni-app:///main.js","webpack:///D:/Code/Self/HBuilder/liangyuan/pages/index/index.vue?aed1","webpack:///D:/Code/Self/HBuilder/liangyuan/pages/index/index.vue?706f","webpack:///D:/Code/Self/HBuilder/liangyuan/pages/index/index.vue?43d1","webpack:///D:/Code/Self/HBuilder/liangyuan/pages/index/index.vue?1122","uni-app:///pages/index/index.vue","webpack:///D:/Code/Self/HBuilder/liangyuan/pages/index/index.vue?fce0","webpack:///D:/Code/Self/HBuilder/liangyuan/pages/index/index.vue?9f23","webpack:///D:/Code/Self/HBuilder/liangyuan/pages/index/index.vue?9d23","webpack:///D:/Code/Self/HBuilder/liangyuan/pages/index/index.vue?1043"],"names":["createPage","Page"],"mappings":"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","file":"pages/index/index.js","sourcesContent":["import 'uni-pages';\nimport Vue from 'vue'\nimport Page from './pages/index/index.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./index.vue?vue&type=template&id=57280228&\"\nvar renderjs\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&lang=scss&\"\nimport style1 from \"./index.vue?vue&type=style&index=1&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/index/index.vue\"\nexport default component.exports","export * from \"-!../../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=template&id=57280228&\"","var components = {\n  ticketNotice: function() {\n    return import(\n      /* webpackChunkName: \"components/ticket/ticket-notice/ticket-notice\" */ \"@/components/ticket/ticket-notice/ticket-notice.vue\"\n    )\n  },\n  ticketIntroduction: function() {\n    return import(\n      /* webpackChunkName: \"components/ticket/ticket-introduction/ticket-introduction\" */ \"@/components/ticket/ticket-introduction/ticket-introduction.vue\"\n    )\n  },\n  ticketTypeDescription: function() {\n    return import(\n      /* webpackChunkName: \"components/ticket/ticket-type-description/ticket-type-description\" */ \"@/components/ticket/ticket-type-description/ticket-type-description.vue\"\n    )\n  },\n  ticketMemberSelect: function() {\n    return import(\n      /* webpackChunkName: \"components/ticket/ticket-member-select/ticket-member-select\" */ \"@/components/ticket/ticket-member-select/ticket-member-select.vue\"\n    )\n  }\n}\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var l1 = _vm.__map(_vm.categorys, function(category, __i0__) {\n    var l0 = _vm.__map(_vm.ticketTypes, function(ticketType, __i1__) {\n      var m0 = _vm.getRefundColor(ticketType)\n      return {\n        $orig: _vm.__get_orig(ticketType),\n        m0: m0\n      }\n    })\n\n    return {\n      $orig: _vm.__get_orig(category),\n      l0: l0\n    }\n  })\n\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        l1: l1\n      }\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view class=\"view-index\">\r\n\t\t<view class=\"gradient-view\">\r\n\t\t\t<view class=\"tui-banner-box\" :style=\"{ height: swipeHeight + 'px' }\">\r\n\t\t\t\t<swiper\r\n\t\t\t\t\t:autoplay=\"true\"\r\n\t\t\t\t\t:interval=\"5000\"\r\n\t\t\t\t\t:duration=\"150\"\r\n\t\t\t\t\tclass=\"tui-banner-swiper\"\r\n\t\t\t\t\t:circular=\"true\"\r\n\t\t\t\t\tindicator-color=\"rgba(255, 255, 255, 0.8)\"\r\n\t\t\t\t\tindicator-active-color=\"#fff\"\r\n\t\t\t\t>\r\n\t\t\t\t\t<swiper-item v-for=\"(item, index) in images\" :key=\"index\"><image :src=\"item\" class=\"tui-slide-image\" mode=\"scaleToFill\" /></swiper-item>\r\n\t\t\t\t</swiper>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<view v-if=\"scenic.noticeTitle\" @click=\"onShowNotice\" class=\"scenic-event\">\r\n\t\t\t<view>\r\n\t\t\t\t<text class=\"iconfont icon-gonggao\"></text>\r\n\t\t\t\t<span>{{ scenic.noticeTitle }}</span>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"scenic-more\"><text class=\"iconfont icon-arrow\"></text></view>\r\n\t\t</view>\r\n\t\t<view class=\"scenic-ext\" @click=\"onIntroduction\">\r\n\t\t\t<view>\r\n\t\t\t\t<view class=\"scenic-ext-title\">\r\n\t\t\t\t\t<span v-if=\"scenic.openText\"></span>\r\n\t\t\t\t\t<span>{{testI18n}}景区特色</span>\r\n\t\t\t\t\t<span>景区简介</span>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view v-if=\"scenic.openText\" class=\"scenic-ext-word\">{{ scenic.openText }}</view>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"scenic-more\">\r\n\t\t\t\t<text class=\"active-text\">详情</text>\r\n\t\t\t\t<text class=\"iconfont icon-arrow\"></text>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<view class=\"view-categorys\">\r\n\t\t\t<view v-for=\"category in categorys\" :key=\"category.id\" class=\"view-category\">\r\n\t\t\t\t<view class=\"category-header\">\r\n\t\t\t\t\t<view class=\"iconfont icon-menpiao\"></view>\r\n\t\t\t\t\t<text>{{ category.name }}</text>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"category-body\">\r\n\t\t\t\t\t<view v-for=\"ticketType in ticketTypes\" :key=\"ticketType.id\" class=\"view-items\">\r\n\t\t\t\t\t\t<view class=\"item-content\">\r\n\t\t\t\t\t\t\t<view class=\"item-name\">{{ ticketType.name }}</view>\r\n\t\t\t\t\t\t\t<view class=\"item-status\">\r\n\t\t\t\t\t\t\t\t<text>{{ ticketType.travelDateText }}</text>\r\n\t\t\t\t\t\t\t\t<text :style=\"{ color: getRefundColor(ticketType) }\">{{ ' ' + ticketType.refundText + ' ' }}</text>\r\n\t\t\t\t\t\t\t\t<text>无需取票</text>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t<view class=\"item-explain\" @click=\"onShowDescription(ticketType)\"><text>新品 | 购买须知></text></view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"item-active\">\r\n\t\t\t\t\t\t\t<view class=\"view-price\">\r\n\t\t\t\t\t\t\t\t<text class=\"text-price\">￥{{ ticketType.price }}</text>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t<view class=\"view-book\" @click=\"onBuy(ticketType)\"><button>立即预订</button></view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<ticket-notice v-model=\"showNotice\" :scenic=\"scenic\" @close=\"onCloseNotice\"></ticket-notice>\r\n\t\t<ticket-introduction v-model=\"showIntroduction\" :scenic=\"scenic\" @close=\"onIntroductionClose\"></ticket-introduction>\r\n\t\t<ticket-type-description\r\n\t\t\tv-model=\"showDescription\"\r\n\t\t\t:show-buy=\"true\"\r\n\t\t\t:ticketTypeId=\"selectedTicketType.id\"\r\n\t\t\t:ticketTypeName=\"selectedTicketType.name\"\r\n\t\t\t:price=\"selectedTicketType.price\"\r\n\t\t\t:shouldRead=\"selectedTicketType.shouldReadDescription\"\r\n\t\t\t@close=\"onDescriptionClose\"\r\n\t\t></ticket-type-description>\r\n\t\t<ticket-member-select v-model=\"showMemberSelect\" @close=\"onMemberSelectClose\"></ticket-member-select>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\nimport dayjs from 'dayjs';\r\nimport { mapState, mapMutations } from 'vuex';\r\nimport { mobileMixin } from './../../mixins/mobileMixin.js';\r\nimport ticketTypeService from './../../services/ticketTypeService.js';\r\nimport scenicService from './../../services/scenicService.js';\r\nimport settingService from './../../services/settingService.js';\r\nimport memberService from '@/services/memberService.js';\r\n\r\nconst today = dayjs();\r\nconst tomorrow = dayjs().addDays(1);\r\nexport default {\r\n\tmixins: [mobileMixin],\r\n\tprops: {\r\n\t\tpublicSaleFlag: {\r\n\t\t\ttype: [Boolean, String],\r\n\t\t\tdefault: true\r\n\t\t}\r\n\t},\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\thref: 'https://uniapp.dcloud.io/collocation/pages?id=easycom',\r\n\t\t\tswiper: {\r\n\t\t\t\tindicatorDots: true,\r\n\t\t\t\tautoplay: true,\r\n\t\t\t\tinterval: 2000,\r\n\t\t\t\tduration: 500\r\n\t\t\t},\r\n\t\t\tintroductionTitle: '景区特色  景区简介',\r\n\t\t\tcategorys: [\r\n\t\t\t\t{\r\n\t\t\t\t\tid: 1,\r\n\t\t\t\t\tname: '景区门票',\r\n\t\t\t\t\titems: [\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tid: 1,\r\n\t\t\t\t\t\t\tname: '欢乐票',\r\n\t\t\t\t\t\t\tprice: 12.34\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tid: 2,\r\n\t\t\t\t\t\t\tname: '开发票',\r\n\t\t\t\t\t\t\tprice: 23.45\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t]\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tid: 2,\r\n\t\t\t\t\tname: '餐饮',\r\n\t\t\t\t\titems: [\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tid: 1,\r\n\t\t\t\t\t\t\tname: '河粉',\r\n\t\t\t\t\t\t\tprice: 5.5\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tid: 2,\r\n\t\t\t\t\t\t\tname: '米饭',\r\n\t\t\t\t\t\t\tprice: 3\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t]\r\n\t\t\t\t}\r\n\t\t\t],\r\n\t\t\tscenic: {},\r\n\t\t\tticketTypes: [],\r\n\t\t\tselectedTicketType: {},\r\n\t\t\torigin: 'http://localhost:8080',\r\n\t\t\tshareImgUrl: '',\r\n\t\t\tgroundId: 1,\r\n\t\t\tshowDescription: false,\r\n\t\t\tshowNotice: false,\r\n\t\t\tswipeHeight: 150,\r\n\t\t\tselectColors: [['#A5B4E4', '#6361EE'], ['#FB754E', '#FB3A47'], ['#254334', '#BF94D8']],\r\n\t\t\tshowClothing: false,\r\n\t\t\tshowStudent: true,\r\n\t\t\tshowIntroduction: false,\r\n\t\t\tshowMemberSelect: false,\r\n\t\t\tmemberSelect: false,\r\n\t\t\timages: []\r\n\t\t};\r\n\t},\r\n\tcomputed: {\r\n\t\ttestI18n(){\r\n\t\t\treturn this.$t('tabBar.index0')\r\n\t\t}\r\n\t},\r\n\tasync onLoad() {\r\n\t\tthis.$i18n.locale = 'en';\r\n\t\t/* #ifndef MP */\r\n\t\tawait memberService.loginFromWeChatAsync({\r\n\t\t\tcode: '',\r\n\t\t\tstate: ''\r\n\t\t});\r\n\t\t/* #endif */\r\n\t\t/* #ifdef MP */\r\n\t\tawait memberService.loginFromMiniAsync();\r\n\t\t/* #endif */\r\n\t\tlet systemInfo = uni.getSystemInfoSync();\r\n\t\tthis.swipeHeight = (systemInfo.screenWidth / 640) * 360;\r\n\r\n\t\tawait settingService.getSettingsFromWeChatAsync();\r\n\r\n\t\tconst getTicketTypeTask = ticketTypeService\r\n\t\t\t.getTicketTypesForWeiXinSaleAsync({\r\n\t\t\t\tpublicSaleFlag: this.publicSaleFlag,\r\n\t\t\t\tgroundId: ''\r\n\t\t\t})\r\n\t\t\t.then(ticketTypes => {\r\n\t\t\t\tfor (const ticketType of ticketTypes) {\r\n\t\t\t\t\tticketType.travelDateText = this.getTravelDateText(ticketType);\r\n\t\t\t\t\tticketType.refundText = this.getRefundText(ticketType);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis.ticketTypes = ticketTypes;\r\n\t\t\t});\r\n\r\n\t\tconst getScenicTask = scenicService\r\n\t\t\t.getScenicAsync()\r\n\t\t\t.then(scenic => {\r\n\t\t\t\tif (scenic.photoList && scenic.photoList.length > 0) {\r\n\t\t\t\t\tthis.images = scenic.photoList.map(p => p.url);\r\n\t\t\t\t\tthis.shareImgUrl = this.images[0];\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (scenic.openTime && scenic.closeTime) {\r\n\t\t\t\t\tconst today = dayjs().toDateString();\r\n\t\t\t\t\tconst openTime = dayjs(`${today} ${scenic.openTime}:00`);\r\n\t\t\t\t\tconst closeTime = dayjs(`${today} ${scenic.closeTime}:00`);\r\n\t\t\t\t\tconst now = dayjs();\r\n\t\t\t\t\tif (now.isBefore(openTime)) {\r\n\t\t\t\t\t\tscenic.openText = `未开园 ${scenic.openTime}开园`;\r\n\t\t\t\t\t} else if (now.isBetween(openTime, closeTime)) {\r\n\t\t\t\t\t\tscenic.openText = `开放中 ${scenic.closeTime}闭园`;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tscenic.openText = `已闭园 明日${scenic.openTime}开园`;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis.scenic = scenic;\r\n\t\t\t\tthis.setPageLabelMainText(this.scenic.pageLabelMainText);\r\n\t\t\t})\r\n\t\t\t.then(() => {\r\n\t\t\t\tlet shareUrl = `${this.origin}/tickettype/${this.publicSaleFlag}`;\r\n\t\t\t\tif (this.groundId) {\r\n\t\t\t\t\tshareUrl += `?groundId=${this.groundId}`;\r\n\t\t\t\t}\r\n\t\t\t\t// settingService.configWxJsApi().then(() => {\r\n\t\t\t\t// \tsettingService.configWxShareUrl(shareUrl, this.shareImgUrl);\r\n\t\t\t\t// });\r\n\t\t\t});\r\n\r\n\t\ttry {\r\n\t\t\tawait Promise.all([getTicketTypeTask, getScenicTask]);\r\n\t\t\tthis.pageLoaded = true;\r\n\t\t} finally {\r\n\t\t}\r\n\t},\r\n\tmethods: {\r\n\t\tonIntroduction() {\r\n\t\t\tthis.showIntroduction = true;\r\n\t\t},\r\n\t\tonIntroductionClose() {\r\n\t\t\tthis.showIntroduction = false;\r\n\t\t},\r\n\t\tonBook() {\r\n\t\t\tuni.navigateTo({\r\n\t\t\t\turl: '../ticket/buy-ticket'\r\n\t\t\t});\r\n\t\t},\r\n\t\tonBuy(ticketType) {\r\n\t\t\tthis.selectedTicketType = ticketType\r\n\t\t\tif(!this.memberSelect){\r\n\t\t\t\tthis.showMemberSelect = true;\r\n\t\t\t} else {\r\n\t\t\t\tthis.toBuy();\r\n\t\t\t}\r\n\t\t},\r\n\t\tonShowDescription(ticketType) {\r\n\t\t\tthis.selectedTicketType = ticketType;\r\n\t\t\tthis.showDescription = true;\r\n\t\t},\r\n\t\tgetTravelDateText(ticketType) {\r\n\t\t\tconst startTravelDate = dayjs(ticketType.startTravelDate);\r\n\t\t\tlet travelDateText = '';\r\n\t\t\tif (startTravelDate.isSameOrBefore(today)) {\r\n\t\t\t\ttravelDateText = '今日';\r\n\t\t\t} else if (startTravelDate.isSameOrBefore(tomorrow)) {\r\n\t\t\t\ttravelDateText = '明日';\r\n\t\t\t} else {\r\n\t\t\t\ttravelDateText = startTravelDate.format('MM月DD日');\r\n\t\t\t}\r\n\r\n\t\t\treturn `最早可订${travelDateText}票`;\r\n\t\t},\r\n\t\tgetRefundText(ticketType) {\r\n\t\t\tif (ticketType.allowRefund === false) {\r\n\t\t\t\treturn '不可退';\r\n\t\t\t}\r\n\r\n\t\t\treturn ticketType.refundLimited ? '有条件退' : '随时退';\r\n\t\t},\r\n\t\tgetRefundColor(ticketType) {\r\n\t\t\tif (ticketType.allowRefund === false) {\r\n\t\t\t\treturn '#ff2f39';\r\n\t\t\t}\r\n\t\t\treturn ticketType.refundLimited ? '#ffae13' : '#099fde';\r\n\t\t},\r\n\t\tonShowNotice() {\r\n\t\t\tthis.showNotice = true;\r\n\t\t},\r\n\t\tonCloseNotice() {\r\n\t\t\tthis.showNotice = false;\r\n\t\t},\r\n\t\tonTicketClick() {\r\n\t\t\tuni.navigateTo({\r\n\t\t\t\turl: '/pages/ticket/ticket-type'\r\n\t\t\t});\r\n\t\t},\r\n\t\tonDescriptionClose(){\r\n\t\t\tthis.showDescription = false;\r\n\t\t},\r\n\t\tonMemberSelectClose(){\r\n\t\t\tthis.showMemberSelect = false;\r\n\t\t\tthis.memberSelect = true;\r\n\t\t\tthis.toBuy();\r\n\t\t},\r\n\t\ttoBuy(){\r\n\t\t\tif (this.selectedTicketType.shouldReadDescription) {\r\n\t\t\t\tthis.onShowDescription(this.selectedTicketType);\r\n\t\t\t} else {\r\n\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\turl: '/pages/ticket/buy-ticket?ticketTypeId=' + this.selectedTicketType.id\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t},\r\n\t\t...mapMutations(['setGroundId', 'setPageLabelMainText'])\r\n\t}\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n.view-index {\r\n\tfont-size: 14px;\r\n\tbackground-color: #efefef;\r\n\r\n\t.view-icon-button {\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: space-between;\r\n\t\tpadding: 20px 25px 20px 25px;\r\n\t\t.view-tap {\r\n\t\t\t.icon-button-tap {\r\n\t\t\t\tpadding: 5px 0px 0px 0px;\r\n\t\t\t}\r\n\t\t\t.iconfont {\r\n\t\t\t\tcolor: #ffffff;\r\n\t\t\t\tfont-size: 22px;\r\n\t\t\t\tmargin: 0 auto;\r\n\t\t\t}\r\n\t\t\t.icon-button-view {\r\n\t\t\t\twidth: 50px;\r\n\t\t\t\theight: 50px;\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\talign-items: center;\r\n\t\t\t\tborder-radius: 25px;\r\n\t\t\t\tmargin: 0 auto;\r\n\t\t\t}\r\n\t\t\t.icon-button-gift {\r\n\t\t\t\tbackground: linear-gradient(#951eda, #5d2afe);\r\n\t\t\t}\r\n\t\t\t.icon-button-alarm {\r\n\t\t\t\tbackground: linear-gradient(#fea100, #e66d25);\r\n\t\t\t}\r\n\t\t\t.icon-button-ice-skate {\r\n\t\t\t\tbackground: linear-gradient(#07d359, #00903a);\r\n\t\t\t}\r\n\t\t\t.icon-button-coach {\r\n\t\t\t\tbackground: linear-gradient(#36b1ff, #014aff);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t.scenic-event {\r\n\t\tpadding: 7px 15px 7px 15px;\r\n\t\tfont-size: 13px;\r\n\t\tcolor: #ff0000;\r\n\t\tborder-bottom: 1px solid #dbdbdb;\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: space-between;\r\n\t\talign-items: center;\r\n\t\tbackground-color: #ffffff;\r\n\r\n\t\t.icon-gonggao {\r\n\t\t\tmargin-right: 5px;\r\n\t\t\tfont-size: 14px;\r\n\t\t\tcolor: #ff0000;\r\n\t\t}\r\n\t}\r\n\r\n\t.scenic-ext {\r\n\t\tpadding: 13px 15px;\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: space-between;\r\n\t\talign-items: center;\r\n\t\tbackground-color: #ffffff;\r\n\r\n\t\t&-title {\r\n\t\t\tfont-size: 15px;\r\n\r\n\t\t\tspan {\r\n\t\t\t\tmargin-right: 5px;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t&-word {\r\n\t\t\tmargin-top: 8px;\r\n\t\t\tline-height: 13px;\r\n\t\t\tfont-size: 12px;\r\n\t\t\tcolor: #999;\r\n\t\t}\r\n\r\n\t\t.iconfont {\r\n\t\t\tfont-size: 14px;\r\n\t\t}\r\n\t}\r\n\r\n\t.scenic-more {\r\n\t\ttext-align: right;\r\n\t\tline-height: 24px;\r\n\t\tcolor: #999;\r\n\r\n\t\tspan {\r\n\t\t\tdisplay: inline-block;\r\n\t\t\tvertical-align: middle;\r\n\t\t\tmargin: 0 6px;\r\n\t\t\theight: 18px;\r\n\t\t\tline-height: 18px;\r\n\t\t\tfont-size: 13px;\r\n\t\t}\r\n\r\n\t\t.iconfont {\r\n\t\t\tvertical-align: middle;\r\n\t\t\tfont-size: 14px;\r\n\t\t}\r\n\t}\r\n\r\n\t.view-introduction {\r\n\t\tdisplay: flex;\r\n\t\tpadding: 13px 15px;\r\n\t\tjustify-content: space-between;\r\n\t\tfont-size: 15px;\r\n\t\tbackground-color: #fff;\r\n\t\t.introduction-active {\r\n\t\t\tdisplay: flex;\r\n\t\t\tjustify-content: space-between;\r\n\t\t\t// align-items: center;\r\n\t\t\tcolor: #999;\r\n\t\t\t.icon-arrow {\r\n\t\t\t\tfont-size: 20px;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t.view-categorys {\r\n\t\t.view-category {\r\n\t\t\tmargin-top: 10px;\r\n\t\t\tbackground: #fff;\r\n\t\t\t.category-header {\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\tpadding: 8px 15px;\r\n\t\t\t\tborder-bottom: 1px solid #dbdbdb;\r\n\t\t\t\tfont-size: 17px;\r\n\t\t\t\talign-items: center;\r\n\t\t\t\t.icon-menpiao {\r\n\t\t\t\t\tpadding: 1px 3px 0px 3px;\r\n\t\t\t\t\tbackground-color: #ff7d13;\r\n\t\t\t\t\tborder-radius: 25px;\r\n\t\t\t\t\tline-height: 1.5;\r\n\t\t\t\t\tcolor: #ffffff;\r\n\t\t\t\t\tfont-size: 12px;\r\n\t\t\t\t\theight: 19px;\r\n\t\t\t\t\tmargin-right: 7px;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t.category-body {\r\n\t\t\t\t.view-items {\r\n\t\t\t\t\tpadding: 10px 13px 10px 0px;\r\n\t\t\t\t\tmargin-left: 15px;\r\n\t\t\t\t\tdisplay: flex;\r\n\t\t\t\t\tjustify-content: space-between;\r\n\t\t\t\t\tborder-bottom: 1px solid #dbdbdb;\r\n\t\t\t\t\t.item-content {\r\n\t\t\t\t\t\t.item-name {\r\n\t\t\t\t\t\t\tmargin-bottom: 5px;\r\n\t\t\t\t\t\t\tpadding-right: 0;\r\n\t\t\t\t\t\t\tline-height: 18px;\r\n\t\t\t\t\t\t\tfont-size: 14px;\r\n\t\t\t\t\t\t\tcolor: #000;\r\n\t\t\t\t\t\t\ttext-overflow: ellipsis;\r\n\t\t\t\t\t\t\toverflow: hidden;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t.item-status {\r\n\t\t\t\t\t\t\tcolor: #099fde;\r\n\t\t\t\t\t\t\tfont-size: 11px;\r\n\t\t\t\t\t\t\tpadding: 0px 0px 7px 0px;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t.item-explain {\r\n\t\t\t\t\t\t\tfont-size: 12px;\r\n\t\t\t\t\t\t\tcolor: #999;\r\n\t\t\t\t\t\t\theight: 21px;\r\n\t\t\t\t\t\t\tline-height: 21px;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\t.item-active {\r\n\t\t\t\t\t\t.view-price {\r\n\t\t\t\t\t\t\tfont-size: 20px;\r\n\t\t\t\t\t\t\tfont-style: normal;\r\n\t\t\t\t\t\t\tcolor: #f40;\r\n\t\t\t\t\t\t\ttext-align: right;\r\n\t\t\t\t\t\t\toverflow: hidden;\r\n\t\t\t\t\t\t\tword-break: break-all;\r\n\t\t\t\t\t\t\tfont-weight: 400;\r\n\t\t\t\t\t\t\t.text-price {\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n</style>\r\n\r\n<style>\r\n.tui-banner-box {\r\n\twidth: 100%;\r\n\t/* padding: 0 30rpx; */\r\n\tbox-sizing: border-box;\r\n\t// position: absolute;\r\n\t/* overflow: hidden; */\r\n\tz-index: 99;\r\n\tbottom: -80rpx;\r\n\tleft: 0;\r\n}\r\n\r\n.tui-slide-image {\r\n\twidth: 100%;\r\n\theight: 100%;\r\n\tdisplay: block;\r\n\t/* padding: 16rpx 30rpx 0px 30rpx; */\r\n}\r\n\r\n.tui-banner-swiper {\r\n\twidth: 100%;\r\n\theight: 100%;\r\n\t/* border-radius: 12rpx; */\r\n\toverflow: hidden;\r\n\ttransform: translateY(0);\r\n}\r\n\r\n/* #ifdef MP-WEIXIN */\r\n.tui-banner-swiper .wx-swiper-dot {\r\n\twidth: 8rpx;\r\n\theight: 8rpx;\r\n\tdisplay: inline-flex;\r\n\tbackground: none;\r\n\tjustify-content: space-between;\r\n}\r\n\r\n.tui-banner-swiper .wx-swiper-dot::before {\r\n\tcontent: '';\r\n\tflex-grow: 1;\r\n\tbackground-color: rgba(255, 255, 255, 0.8);\r\n\tborder-radius: 16rpx;\r\n\toverflow: hidden;\r\n}\r\n\r\n.tui-banner-swiper .wx-swiper-dot-active::before {\r\n\tbackground-color: #fff;\r\n}\r\n\r\n.tui-banner-swiper .wx-swiper-dot.wx-swiper-dot-active {\r\n\twidth: 16rpx;\r\n}\r\n\r\n/* #endif */\r\n\r\n/* #ifndef MP-WEIXIN */\r\n>>> .tui-banner-swiper .uni-swiper-dot {\r\n\twidth: 8rpx;\r\n\theight: 8rpx;\r\n\tdisplay: inline-flex;\r\n\tbackground-color: none;\r\n\tjustify-content: space-between;\r\n}\r\n\r\n>>> .tui-banner-swiper .uni-swiper-dot::before {\r\n\tcontent: '';\r\n\tflex-grow: 1;\r\n\tbackground-color: rgba(255, 255, 255, 0.8);\r\n\tborder-radius: 16rpx;\r\n\toverflow: hidden;\r\n}\r\n\r\n>>> .tui-banner-swiper .uni-swiper-dot-active::before {\r\n\tbackground-color: #fff;\r\n}\r\n\r\n>>> .tui-banner-swiper .uni-swiper-dot.uni-swiper-dot-active {\r\n\twidth: 16rpx;\r\n}\r\n\r\n/* #endif */\r\n</style>\n","import mod from \"-!../../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=style&index=0&lang=scss&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1594723363341\n      var cssReload = require(\"D:/Code/Software/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  ","import mod from \"-!../../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=style&index=1&lang=css&\"; export default mod; export * from \"-!../../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=style&index=1&lang=css&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1594723363063\n      var cssReload = require(\"D:/Code/Software/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}